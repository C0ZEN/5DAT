# 2 - Storing Big Data

## Etablishing the Role of NoSQL

### Le dilemme de stockage

Le stockage à bas prix signifie que les organisations ont la possibilité de stocker plus de données que jamais auparavant.  
Ils ont également accès à plus de types de données :

  - Structurées
    - Exemple :
        - Format CSV
        - XML
    - Remplir les données sur une structure bien précise
  - Non structurées
    - Les données d'une vidéo: binaire
    - MongoDB

Relever les défis du Big Data est un défi technique complexe :

  - Volume
  - Variété
  - Rapidité
  - Véracité

La solution de stockage doit satisfaire à un certain nombre de demandes :

  - Capacité
    - Etre capable de grandir et d'évoluer rapidement
  - Sécurité
    - Beaucoup de données portent des normes de sécurité
    - Financier, médical
    - L'intégration pour l'analyse augmente le défi de sécurité

Données chaudes :

Données froides :

## Big Data : Demandes de stockage

Latence
  
  - Nombreuses solutions ont un composant en temps réel
  - Besoin d'évoluer et de fournir une faible latence
    
Accès :

  - À mesure que l'utilisation des outils d'analyse augmentent, les données sont accessibles par une audience plus large

Flexibilité :

  - La conception doit permettre à l'infrastructure de stockage de se développer
  - Incorporer les possibilités de migration de données

Persistance :

  - Longévité est souvent requise pour l'analyse basée sur le temps
  - Conformité réglementaire exige souvent que les données soient sauvegardées pendant de nombreuses années
  - Périphériques de stockage peuvent nécessiter des fonctionnalités de fiabilité à long terme intégrées

Coût :

  - Principalement construit autour de matériel de base à faible coût
  - Les coûts peuvent encore être importants à mesure que le volume augmente

Les bases de données relationnelles ont été au cœur du stockage de données d'applications pendant de nombreuses années
  
  - Et continuera à être ainsi
    
Les données stockées dans une base de données relationnelle ont généralement ces qualités et caractéristiques :
  
  - Structure bien définie avec schémas de table fixe
  - Propriétés des données pouvant être définies au début
  - Relations entre données clairement définies
  - Données denses et principalement uniformes
  - Index pouvant être définis pour tirer parti des requêtes rapides

Les bases de données offrent également de nombreux avantages

  - Intégration simple de l'application
  - Intégrité des données
  - Atomicité, Cohérence, Isolation, Durabilité (ACID)
  - Outils de reporting
  - Manière standard d'accéder aux données avec SQL

## Scaling Relational Databases

Les bases de données relationnelles sont conçues pour fonctionner sur des machines individuelles
  
La mise à l'échelle signifie généralement l'exécution sur une plus grande machine
  
  - Des approches alternatives ont été développées:
    - Bases de données sensibles au cluster, telles que Oracle Real Application Clusters (RAC)
    - Sharding-différents jeux de données sur différentes machines

La non-concordance entre les bases de données relationnelles et les clusters a entraîné l'émergence de solutions alternatives
  
  - Google
  - Amazone
  
Ces deux organisations ont des données à une échelle au-delà de la plupart des organisations

  - Big Data!

## Emergence de magasins de données alternatives

Un nouvel ensemble de magasins de données (DataStore) a vu le jour au cours des dernières années
  
  - La motivation principale était de soutenir de grands ensembles de données

Les caractéristiques communes de ces magasins de données incluent:

  - Échelle pour les grands ensembles de données
  - Ne pas avoir de modèle relationnel
  - Pas de schéma fixe permettant de stocker des données
  - Les demandes de stockage de Big Data
  - Exécuter sur des grappes de machines à bas prix

## NoSQL

Ces nouveaux magasins de données (DataStore) sont devenus connus sous le nom de magasins de données NoSQL

  - Le terme a été utilisé pour la première fois en 1998 pour une base de données relationnelle open source *
  - Devenu un terme populaire en 2009
      - Johan Oskarsson a organisé un événement pour discuter des bases de données distribuées et utilisé le terme NoSQL

Il n'y a pas de définition formelle de NoSQL

  - Utilisé comme terme générique pour les magasins de données non structurés

### Persistance Polyglotte (?)

Les banques de données NoSQL ne remplacent pas les bases de données SQL

  - Ils les complètent

Il y a maintenant un choix de plusieurs technologies de stockage de données disponibles

  - Devrait être choisi en fonction de la façon dont les données sont utilisées
  - Conduit à ce qu'on appelle la persistance Polyglot

**Polyglotte :** 

Utilisation de plusieurs technologies de stockage de données, choisies en fonction de la manière dont les données sont utilisées par des applications individuelles  
Les bases de données SQL ont de nombreux avantages :

  - Le modèle de données basé sur un schéma tabulaire reste très pertinent pour de nombreuses applications
  - Il existe un grand nombre d'outils pour travailler avec des bases de données SQL
  - Prise en charge des transactions ACID
  - Grande base de connaissances

**Exemple :**

Envisager une application Web de vente au détail en ligne et ses exigences de stockage

  - Catalogue de produits
    - Beaucoup de lectures, écrit peu fréquentes
  - Données financières
    - Exigences de transaction
    - Reporting sur les commandes, les performances, etc.
  - Sessions utilisateur
    - Accès rapide pour la lecture et l'écriture, pas de durabilité
    - Journaux d'activité utilisateur
    - Grands volumes d'écritures
  - Recommandations de produits
    - Liens entre produits, personnes
  - Analytique
    - Examiner les modèles de clients

Un tel exemple a de nombreuses exigences de stockage différentes

  - Certains sont applicables pour les bases de données relationnelles
  - D'autres sont mieux adaptés aux magasins de données NoSQL

Une solution élégante utiliserait au mieux les différents types de données
  
  - Une solution de persistance Polyglot
    
### DataStore NoSQL

Il y a beaucoup de magasins de données qui peuvent être considérés comme NoSQL

Pour structurer notre discussion, nous les avons catégorisés :

  - Valeur clé
  - Document
  - Famille de colonnes
  - Données graphiques

## Key–Value Data Stores

### NoSQL Data Stores

  Ce sont les magasins de données NoSQL les plus simples

  Certains sont persistants, d'autres sont en mémoire seulement

  Soutenir trois opérations principales
    - Insérer une valeur pour une clé
    - Obtenir une valeur associée à une clé
    - Supprimer une valeur
  Les magasins de données n'ont aucune connaissance de ce qui est stocké dans les valeurs
  La responsabilité de l'application de savoir quelles valeurs d'information contiennent






